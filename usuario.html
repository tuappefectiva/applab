<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Usuario - Laboratorio</title>
</head>
<body>
  <h1>Usuario - Laboratorio</h1>

  <h2>Buscar producto o código</h2>
  <!-- Aquí iría tu buscador si lo tienes -->

  <h3>Pedido</h3>
  <button onclick="hacerPedido()">Hacer pedido</button>

  <h3>Agregar producto personalizado</h3>
  <input type="text" id="productoPersonalizado" placeholder="Nombre del producto">
  <button onclick="agregarProducto()">Añadir al pedido</button>

  <h3>Lista de pedido</h3>
  <ul id="listaPedido"></ul>

  <script>
    let pedido = [];

    function agregarProducto() {
      const input = document.getElementById("productoPersonalizado");
      const producto = input.value.trim();
      if (producto) {
        pedido.push(producto);
        actualizarListaPedido();
        input.value = "";
      }
    }

    function actualizarListaPedido() {
      const lista = document.getElementById("listaPedido");
      lista.innerHTML = "";
      pedido.forEach((item) => {
        const li = document.createElement("li");
        li.textContent = item;
        lista.appendChild(li);
      });
    }

    function hacerPedido() {
      const ahora = new Date();
      const inicioAno = new Date(ahora.getFullYear(), 0, 1);
      const dias = Math.floor((ahora - inicioAno) / (24 * 60 * 60 * 1000));
      const semana = Math.ceil((dias + inicioAno.getDay() + 1) / 7);
      const titulo = `Semana ${semana} - ${ahora.getFullYear()}`;

      alert(`Pedido enviado al administrador.\n${titulo}\nProductos:\n- ${pedido.join("\n- ")}`);

      // Aquí podrías enviar los datos al servidor si lo deseas
      pedido = [];
      actualizarListaPedido();
    }
  </script>
</body>
</html>
